webpackJsonp([1],{"/udC":function(t,e){},"2G2w":function(t,e){},"2NFd":function(t,e){},"2fZL":function(t,e){},"4clK":function(t,e){},"8kc1":function(t,e){},"9M+g":function(t,e){},BXQ4:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("//Fk"),s=n.n(a),o=n("7+uW"),i=n("Dd8w"),r=n.n(i),c=n("NYxO"),l=this,u={name:"NaviComponent",data:function(){return{}},methods:{logout:function(){l.$store.dispatch("LOGOUT"),l.$router.push({path:"/login"})}},computed:r()({},Object(c.b)({auth:"isAuthenticated",username:"getUserName"}))},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-group-all"},[n("h3",{staticClass:"logo"},[t._v("LOGO")]),t._v(" "),n("div",{staticClass:"nav-menu"},[n("router-link",{staticClass:"nav",attrs:{to:"/"}},[t._v("Go to Home")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/post"}},[t._v("게시글")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/todo"}},[t._v("할일목록")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/sample"}},[t._v("API 호출 테스트")])],1),t._v(" "),n("div",{staticClass:"nav-group-right"},[t.auth?n("div",[n("div",{staticClass:"nav"},[t._v("안녕하세요 "+t._s(t.username)+" 님")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/me"}},[t._v("마이페이지")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/logout"}},[t._v("로그아웃")])],1):n("div",[n("router-link",{staticClass:"nav",attrs:{to:"/register"}},[t._v("회원가입")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/login"}},[t._v("로그인")])],1)])])},staticRenderFns:[]};var d={name:"App",components:{navComponent:n("VU/8")(u,v,!1,function(t){n("U6Vh")},"data-v-fd846da6",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"main main-top"},[e("nav-component")],1),this._v(" "),e("div",{staticClass:"main main-center"},[e("router-view")],1)])},staticRenderFns:[]};var m=n("VU/8")(d,p,!1,function(t){n("cTbX")},null,null).exports,h=n("/ocq"),f=n("Xxa5"),_=n.n(f),g=n("exGp"),b=n.n(g),C=n("mtWM"),k=n.n(C);o.default.use(c.a);var x=new c.a.Store({state:{accessToken:localStorage.getItem("access-token")||"",status:"",username:""},getters:{isAuthenticated:function(t){return!!t.accessToken},authStatus:function(t){return t.status},getUserName:function(t){return t.username}},mutations:{LOGIN:function(t,e){var n=e.data;t.accessToken=n.token,t.username=n.name,k.a.defaults.headers.common.Authorization="Bearer "+n.token,localStorage.setItem("access-token",n.token)},LOGOUT:function(t){t.accessToken=null,t.status="",localStorage.removeItem("access-token")},KAKAO_LOGIN:function(t){console.log(t)}},actions:{LOGIN:function(t,e){var n=this,a=t.commit,s=e.email,o=e.password;return b()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post("http://localhost:3000/api/auth/login",{email:s,password:o}).then(function(t){var e=t.data;a("LOGIN",{data:e})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,n)}))()},LOGOUT:function(t){(0,t.commit)("LOGOUT")},KAKAO_LOGIN:function(t){var e=this,n=t.commit;return b()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get("http://localhost:3000/api/auth/kakao").then(function(t){var e=t.data;n("KAKAO_LOGIN",{data:e})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()}}}),w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("메인 페이지입니다. 메뉴를 선택하세요")])])}]};var $=n("VU/8")({created:function(){var t=this;this.$http.get("/home").then(function(e){return t.greeting=e.data.greeting})},name:"Home"},w,!1,function(t){n("8kc1")},"data-v-1bab2d0a",null).exports,U={created:function(){var t=this;this.$http.get(""+this.baseURI).then(function(e){console.log(e),t.posts=e.data}).catch(function(t){console.log(t)})},name:"Post",data:function(){return{posts:[],baseURI:"/api/posts",pageSize:10,pageNum:0}},computed:{hasPosts:function(){return this.posts.length>0},paginatedData:function(){var t=this.pageNum*this.pageSize,e=t+this.pageSize;return console.log(" START "+t),console.log(" END "+e),this.posts.slice(t,e)},pageCount:function(){var t=this.posts.length,e=this.pageSize;Math.floor(t/e)}},methods:{deletePost:function(t){var e=this;this.$http.delete(this.baseURI+"/"+t).then(function(t){alert("삭제되었습니다"),e.posts=t.data}).catch(function(t){alert("삭제실패")})},titleClick:function(t){this.$router.push("/post/detail/"+t)},nextPage:function(){this.pageNum+=1},prevPage:function(){this.pageNum-=1}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("게시글")]),t._v(" "),t.hasPosts?n("div",[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",{staticClass:"table-body"},t._l(t.paginatedData,function(e){return n("tr",[n("td",[t._v(t._s(e.num))]),t._v(" "),n("td",{on:{click:function(n){return t.titleClick(e._id)}}},[t._v(t._s(e.title))]),t._v(" "),n("td",[t._v(t._s(e.writer))]),t._v(" "),n("td",[t._v(t._s(e.createAt))]),t._v(" "),n("td",[t._v(t._s(e.cknum))])])}),0)]),t._v(" "),n("div",{staticClass:"div-write"},[n("router-link",{staticClass:"btn btn-default btn-write",attrs:{to:"/post/write",np:""}},[t._v("글작성")])],1),t._v(" "),n("div",{staticClass:"btn-cover"},[n("button",{staticClass:"page-btn",attrs:{disabled:0===t.pageNum},on:{click:t.prevPage}},[t._v("\n            이전\n          ")]),t._v(" "),n("span",{staticClass:"page-count"},[t._v(t._s(t.pageNum+1)+" / "+t._s(t.pageCount)+" 페이지")]),t._v(" "),n("button",{staticClass:"page-btn",attrs:{disabled:t.pageNum>=t.pageCount-1},on:{click:t.nextPage}},[t._v("\n            다음\n          ")])])]):n("p",[t._v("게시글이 없습니다")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"table-head"},[n("th",[t._v("번호")]),t._v(" "),n("th",[t._v("제목")]),t._v(" "),n("th",[t._v("작성자")]),t._v(" "),n("th",[t._v("날짜")]),t._v(" "),n("th",[t._v("조회수")])])}]};var R=n("VU/8")(U,N,!1,function(t){n("BXQ4")},"data-v-06d8dcda",null).exports,I={name:"WritePost",data:function(){return{baseURI:"/api/posts",title:"",content:""}},methods:{save:function(){var t=this;this.$http.post(this.baseURI+"/create",{title:this.title,content:this.content}).then(function(e){alert("저장되었습니다"),t.$router.go(-1)}).catch(function(t){alert("저장을 실패했습니다 :"+t)})},cancel:function(){this.$router.go(-1)}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  제목: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목을입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("br"),t._v("\n  내용: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"내용을입력하세요"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:t.save}},[t._v("저장")]),t._v(" "),n("button",{on:{click:t.cancel}},[t._v("취소")])])},staticRenderFns:[]};var L=n("VU/8")(I,O,!1,function(t){n("4clK")},"data-v-918bff2e",null).exports,P={created:function(){var t=this;this.$http.get(this.baseURI+"/"+this.$route.params.id).then(function(e){t.title=e.data.title,t.content=e.data.content,t._id=e.data._id}).catch(function(t){})},name:"DetailPost",data:function(){return{baseURI:"/api/posts",title:"",content:"",_id:""}},methods:{save:function(){var t=this;this.$http.put(this.baseURI+"/"+this._id,{title:this.title,content:this.content}).then(function(e){alert("저장되었습니다"),t.$router.go(-1)}).catch(function(t){alert("저장을 실패했습니다 :"+t)})},deletePost:function(){var t=this;this.$http.delete(this.baseURI+"/"+this._id).then(function(e){alert("삭제되었습니다"),t.$router.go(-1)}).catch(function(t){alert("삭제실패 :"+t)})},cancel:function(){this.$router.go(-1)}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  제목: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목을입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("br"),t._v("\n  내용: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"내용을입력하세요"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:t.save}},[t._v("저장")]),t._v(" "),n("button",{on:{click:t.deletePost}},[t._v("삭제")]),t._v(" "),n("button",{on:{click:t.cancel}},[t._v("취소")])])},staticRenderFns:[]};var E=n("VU/8")(P,y,!1,function(t){n("2NFd")},"data-v-75cdef8b",null).exports,T={created:function(){var t=this;this.$http.get(""+this.baseURI).then(function(e){console.log("success "+e),t.todoList=e.data}).catch(function(t){console.log("error : "+t)})},name:"Todo",data:function(){return{text:"",todoList:[],baseURI:"/api/todos"}},methods:{saveTodo:function(){var t=this;this.$http.post(this.baseURI+"/create",{title:this.text}).then(function(e){t.todoList=e.data,t.text=""}).catch(function(t){console.log(t)})},deleteTodo:function(t){var e=this;this.$http.delete(this.baseURI+"/"+t).then(function(t){e.todoList=t.data})}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("할일목록")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"할일을 입력하세요"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.saveTodo}},[t._v("저장")]),t._v(" "),t._l(t.todoList,function(e){return n("div",[n("div",[n("strong",[t._v(t._s(e.title))]),t._v(" "),n("button",{on:{click:function(n){return t.deleteTodo(e._id)}}},[t._v("x")]),t._v(" "),n("p",[t._v(t._s(e.createAt))])])])})],2)},staticRenderFns:[]};var S=n("VU/8")(T,A,!1,function(t){n("ysEg")},"data-v-7327a942",null).exports,G={name:"Post",data:function(){return{posts:[]}},computed:{hasResult:function(){return this.posts.length>0}},methods:{searchTerm:function(){var t=this;this.$http.get("https://jsonplaceholder.typicode.com/posts").then(function(e){console.log(e),t.posts=e.data})}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("https://jsonplaceholder.typicode.com")]),t._v(" "),t.hasResult?n("div",t._l(t.posts,function(e){return n("div",[n("h2",[t._v(t._s(e.title))]),t._v(" "),n("p",[t._v(t._s(e.body))])])}),0):n("button",{on:{click:t.searchTerm}},[t._v("불러오기")])])},staticRenderFns:[]};var V=n("VU/8")(G,F,!1,function(t){n("2fZL")},"data-v-d9107b84",null).exports,K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("div",{staticClass:"login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("email : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("password : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("br"),t._v(" "),n("button",{attrs:{type:"submit",value:"Login"}},[t._v("로그인")])]),t._v(" "),n("div",{staticClass:"a-group"},[n("router-link",{staticClass:"a-group-link",attrs:{to:"/register"}},[t._v("회원가입")]),t._v(" "),n("router-link",{staticClass:"a-group-link",attrs:{to:"/register"}},[t._v("찾기")])],1)]),t._v(" "),n("div",[n("p",{staticStyle:{color:"red"}},[t._v(t._s(t.msg))])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-header"},[e("h1",[this._v("로그인")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-footer"},[e("div",{staticClass:"footer-sign-in"},[e("button",{staticClass:"btn-social-login",staticStyle:{background:"#D93025"}},[e("i",{staticClass:"xi-2x xi-google"})]),this._v(" "),e("button",{staticClass:"btn-social-login",staticStyle:{background:"#4267B2"}},[e("i",{staticClass:"xi-2x xi-facebook"})]),this._v(" "),e("a",{attrs:{href:"http://localhost:3000/api/auth/kakao"}},[e("button",{staticClass:"btn-social-login",staticStyle:{background:"#FFEB00"}},[e("i",{staticClass:"xi-2x xi-kakaotalk text-dark"})])])])])}]};var D=n("VU/8")({data:function(){return{valid:!0,email:"",password:"",msg:""}},methods:{onSubmit:function(t,e){var n=this;this.$store.dispatch("LOGIN",{email:t,password:e}).then(function(){n.$router.push({path:"/"})}).catch(function(t){return t.message,n.msg="아이디 또는 비밀번호를 확인하세요"})},onSocialLogin:function(){var t=this;this.$store.dispatch("KAKAO_LOGIN").then(function(){t.$router.push({path:"/"})}).catch(function(e){return e.message,t.msg="아이디 또는 비밀번호를 확인하세요"})}}},K,!1,function(t){n("Ydh3")},"data-v-97bbc76c",null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var j=n("VU/8")({created:function(){this.$store.dispatch("LOGOUT"),this.$router.push({path:"/login"})},name:"Logout"},M,!1,function(t){n("2G2w")},"data-v-1b107690",null).exports,z={data:function(){return{baseURI:"/api/auth",valid:!0,email:"",password:"",passwordChk:"",name:"",msg:""}},methods:{onSubmit:function(t,e,n){var a=this;e.length<5||e.length>10?alert("비밀번호를 확인하세요"):n.trim()<1?alert("이름을 입력하세요"):this.$http.post(this.baseURI+"/register",{email:t,password:e,name:n}).then(function(t){alert("회원가입 완료"),a.$router.push("/login")}).catch(function(t){alert(t)})}},computed:{}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("div",{staticClass:"login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password,t.name)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("이메일 : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("비밀번호 : 5자이상 10자이하")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("이름 : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("br"),t._v(" "),n("button",{attrs:{type:"submit",value:"Login"}},[t._v("회원가입")])])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-header"},[e("h1",[this._v("회원가입")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-footer"},[e("div",{staticClass:"footer-sign-in"},[this._v("\n      New to Vana Blog? "),e("a",{attrs:{href:"#"}},[this._v("Create an account.")])])])}]};var H=n("VU/8")(z,B,!1,function(t){n("/udC")},"data-v-846a60d8",null).exports,X={created:function(){var t=this;this.$http.get(this.baseURI+"/me").then(function(e){console.log(e.data.info);var n=e.data.info;t.name=n.name,t.email=n.email}).catch(function(t){console.log(t)})},name:"Me",data:function(){return{baseURI:"/api/auth",name:"",email:"",accessLog:[]}}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("ME")]),t._v(" "),n("div",[n("label",[t._v("User info:")]),t._v(" "),n("pre",[t._v(t._s(t.email))]),t._v(" "),n("pre",[t._v(t._s(t.name))])]),t._v(" "),n("div",[n("label",[t._v("Access Log:")]),t._v(" "),t._l(t.accessLog,function(e){return n("div",[t._v(t._s(e.createAt))])})],2)])},staticRenderFns:[]};var Z=n("VU/8")(X,W,!1,function(t){n("ROkZ")},"data-v-4be79e9a",null).exports;o.default.use(h.a);var q=new h.a({routes:[{path:"/",name:"Home",component:$},{path:"/post",name:"Post",component:R},{path:"/post/write",name:"WritePost",component:L},{path:"/post/detail/:id",name:"DetailPost",component:E},{path:"/todo",name:"Todo",component:S},{path:"/sample",name:"jsonplaceholder",component:V},{path:"/login",name:"login",component:D},,{path:"/logout",name:"logout",component:j},{path:"/register",name:"Register",component:H},{path:"/me",name:"Me",component:Z,beforeEnter:function(t,e,n){if(localStorage.getItem("access-token"))return n();n("/login")}}]}),J=(n("NOnh"),n("Jmt5"),n("9M+g"),n("Tqaz"));k.a.interceptors.request.use(function(t){return t.headers.Authorization=localStorage.getItem("access-token")||"",t},function(t){return s.a.reject(t)}),k.a.interceptors.response.use(function(t){return t},function(t){return s.a.reject(t)}),o.default.prototype.$http=k.a,o.default.config.productionTip=!1,new o.default({el:"#app",store:x,router:q,components:{App:m},template:"<App/>"}),o.default.use(J.a)},ROkZ:function(t,e){},U6Vh:function(t,e){},Ydh3:function(t,e){},cTbX:function(t,e){},ysEg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3a5cbd0ad7380790109e.js.map