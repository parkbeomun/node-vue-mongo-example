webpackJsonp([1],{"/udC":function(t,e){},"2G2w":function(t,e){},"2NFd":function(t,e){},"2fZL":function(t,e){},"4clK":function(t,e){},"8kc1":function(t,e){},"9M+g":function(t,e){},BXQ4:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("Dd8w"),o=n.n(s),i=n("NYxO"),r=this,c={name:"NaviComponent",data:function(){return{}},methods:{logout:function(){r.$store.dispatch("LOGOUT"),r.$router.push({path:"/login"})}},computed:o()({},Object(i.b)({auth:"isAuthenticated",username:"getUserName"}))},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-group-all"},[n("h3",{staticClass:"logo"},[t._v("LOGO")]),t._v(" "),n("div",{staticClass:"nav-menu"},[n("router-link",{staticClass:"nav",attrs:{to:"/"}},[t._v("Go to Home")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/post"}},[t._v("게시글")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/todo"}},[t._v("할일목록")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/sample"}},[t._v("API 호출 테스트")])],1),t._v(" "),n("div",{staticClass:"nav-group-right"},[t.auth?n("div",[n("div",{staticClass:"nav"},[t._v("안녕하세요 "+t._s(t.username)+" 님")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/me"}},[t._v("마이페이지")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/logout"}},[t._v("로그아웃")])],1):n("div",[n("router-link",{staticClass:"nav",attrs:{to:"/register"}},[t._v("회원가입")]),t._v(" "),n("router-link",{staticClass:"nav",attrs:{to:"/login"}},[t._v("로그인")])],1)])])},staticRenderFns:[]};var u={name:"App",components:{navComponent:n("VU/8")(c,l,!1,function(t){n("U6Vh")},"data-v-fd846da6",null).exports}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"main main-top"},[e("nav-component")],1),this._v(" "),e("div",{staticClass:"main main-center"},[e("router-view")],1)])},staticRenderFns:[]};var d=n("VU/8")(u,v,!1,function(t){n("cTbX")},null,null).exports,p=n("/ocq"),m=n("mtWM"),h=n.n(m);a.default.use(i.a);var _=new i.a.Store({state:{accessToken:localStorage.getItem("access-token")||"",status:"",username:"박범운"},getters:{isAuthenticated:function(t){return!!t.accessToken},authStatus:function(t){return t.status},getUserName:function(t){return t.username}},mutations:{LOGIN:function(t,e){var n=e.token;t.accessToken=n},LOGOUT:function(t){t.accessToken=null,t.status="",localStorage.removeItem("access-token")}},actions:{LOGIN:function(t,e){var n=t.commit,a=e.email,s=e.password;return h.a.post("http://localhost:3000/api/auth/login",{email:a,password:s}).then(function(t){var e=t.data;n("LOGIN",e.token),h.a.defaults.headers.common.Authorization="Bearer "+e.token,localStorage.setItem("access-token",e.token)})},LOGOUT:function(t){(0,t.commit)("LOGOUT")}}}),f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("메인 페이지입니다. 메뉴를 선택하세요")])])}]};var g=n("VU/8")({created:function(){var t=this;this.$http.get("/home").then(function(e){return t.greeting=e.data.greeting})},name:"Home"},f,!1,function(t){n("8kc1")},"data-v-1bab2d0a",null).exports,b={created:function(){var t=this;this.$http.get(""+this.baseURI).then(function(e){console.log(e),t.posts=e.data}).catch(function(t){console.log(t)})},name:"Post",data:function(){return{posts:[],baseURI:"/api/posts",pageSize:10,pageNum:0}},computed:{hasPosts:function(){return this.posts.length>0},paginatedData:function(){var t=this.pageNum*this.pageSize,e=t+this.pageSize;return console.log(" START "+t),console.log(" END "+e),this.posts.slice(t,e)},pageCount:function(){var t=this.posts.length,e=this.pageSize;Math.floor(t/e)}},methods:{deletePost:function(t){var e=this;this.$http.delete(this.baseURI+"/"+t).then(function(t){alert("삭제되었습니다"),e.posts=t.data}).catch(function(t){alert("삭제실패")})},titleClick:function(t){this.$router.push("/post/detail/"+t)},nextPage:function(){this.pageNum+=1},prevPage:function(){this.pageNum-=1}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("게시글")]),t._v(" "),t.hasPosts?n("div",[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",{staticClass:"table-body"},t._l(t.paginatedData,function(e){return n("tr",[n("td",[t._v(t._s(e.num))]),t._v(" "),n("td",{on:{click:function(n){return t.titleClick(e._id)}}},[t._v(t._s(e.title))]),t._v(" "),n("td",[t._v(t._s(e.writer))]),t._v(" "),n("td",[t._v(t._s(e.createAt))]),t._v(" "),n("td",[t._v(t._s(e.cknum))])])}),0)]),t._v(" "),n("div",{staticClass:"div-write"},[n("router-link",{staticClass:"btn btn-default btn-write",attrs:{to:"/post/write",np:""}},[t._v("글작성")])],1),t._v(" "),n("div",{staticClass:"btn-cover"},[n("button",{staticClass:"page-btn",attrs:{disabled:0===t.pageNum},on:{click:t.prevPage}},[t._v("\n            이전\n          ")]),t._v(" "),n("span",{staticClass:"page-count"},[t._v(t._s(t.pageNum+1)+" / "+t._s(t.pageCount)+" 페이지")]),t._v(" "),n("button",{staticClass:"page-btn",attrs:{disabled:t.pageNum>=t.pageCount-1},on:{click:t.nextPage}},[t._v("\n            다음\n          ")])])]):n("p",[t._v("게시글이 없습니다")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"table-head"},[n("th",[t._v("번호")]),t._v(" "),n("th",[t._v("제목")]),t._v(" "),n("th",[t._v("작성자")]),t._v(" "),n("th",[t._v("날짜")]),t._v(" "),n("th",[t._v("조회수")])])}]};var $=n("VU/8")(b,C,!1,function(t){n("BXQ4")},"data-v-06d8dcda",null).exports,w={name:"WritePost",data:function(){return{baseURI:"/api/posts",title:"",content:""}},methods:{save:function(){var t=this;this.$http.post(this.baseURI+"/create",{title:this.title,content:this.content}).then(function(e){alert("저장되었습니다"),t.$router.go(-1)}).catch(function(t){alert("저장을 실패했습니다 :"+t)})},cancel:function(){this.$router.go(-1)}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  제목: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목을입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("br"),t._v("\n  내용: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"내용을입력하세요"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:t.save}},[t._v("저장")]),t._v(" "),n("button",{on:{click:t.cancel}},[t._v("취소")])])},staticRenderFns:[]};var U=n("VU/8")(w,k,!1,function(t){n("4clK")},"data-v-918bff2e",null).exports,x={created:function(){var t=this;this.$http.get(this.baseURI+"/"+this.$route.params.id).then(function(e){t.title=e.data.title,t.content=e.data.content,t._id=e.data._id}).catch(function(t){})},name:"DetailPost",data:function(){return{baseURI:"/api/posts",title:"",content:"",_id:""}},methods:{save:function(){var t=this;this.$http.put(this.baseURI+"/"+this._id,{title:this.title,content:this.content}).then(function(e){alert("저장되었습니다"),t.$router.go(-1)}).catch(function(t){alert("저장을 실패했습니다 :"+t)})},deletePost:function(){var t=this;this.$http.delete(this.baseURI+"/"+this._id).then(function(e){alert("삭제되었습니다"),t.$router.go(-1)}).catch(function(t){alert("삭제실패 :"+t)})},cancel:function(){this.$router.go(-1)}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  제목: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목을입력하세요"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("br"),t._v("\n  내용: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"내용을입력하세요"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:t.save}},[t._v("저장")]),t._v(" "),n("button",{on:{click:t.deletePost}},[t._v("삭제")]),t._v(" "),n("button",{on:{click:t.cancel}},[t._v("취소")])])},staticRenderFns:[]};var R=n("VU/8")(x,N,!1,function(t){n("2NFd")},"data-v-75cdef8b",null).exports,P={created:function(){var t=this;this.$http.get(""+this.baseURI).then(function(e){console.log("success "+e),t.todoList=e.data}).catch(function(t){console.log("error : "+t)})},name:"Todo",data:function(){return{text:"",todoList:[],baseURI:"/api/todos"}},methods:{saveTodo:function(){var t=this;this.$http.post(this.baseURI+"/create",{title:this.text}).then(function(e){t.todoList=e.data,t.text=""}).catch(function(t){console.log(t)})},deleteTodo:function(t){var e=this;this.$http.delete(this.baseURI+"/"+t).then(function(t){e.todoList=t.data})}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("할일목록")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"할일을 입력하세요"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.saveTodo}},[t._v("저장")]),t._v(" "),t._l(t.todoList,function(e){return n("div",[n("div",[n("strong",[t._v(t._s(e.title))]),t._v(" "),n("button",{on:{click:function(n){return t.deleteTodo(e._id)}}},[t._v("x")]),t._v(" "),n("p",[t._v(t._s(e.createAt))])])])})],2)},staticRenderFns:[]};var L=n("VU/8")(P,I,!1,function(t){n("ysEg")},"data-v-7327a942",null).exports,E={name:"Post",data:function(){return{posts:[]}},computed:{hasResult:function(){return this.posts.length>0}},methods:{searchTerm:function(){var t=this;this.$http.get("https://jsonplaceholder.typicode.com/posts").then(function(e){console.log(e),t.posts=e.data})}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("https://jsonplaceholder.typicode.com")]),t._v(" "),t.hasResult?n("div",t._l(t.posts,function(e){return n("div",[n("h2",[t._v(t._s(e.title))]),t._v(" "),n("p",[t._v(t._s(e.body))])])}),0):n("button",{on:{click:t.searchTerm}},[t._v("불러오기")])])},staticRenderFns:[]};var y=n("VU/8")(E,T,!1,function(t){n("2fZL")},"data-v-d9107b84",null).exports,O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("div",{staticClass:"login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("email : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("password : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("br"),t._v(" "),n("button",{attrs:{type:"submit",value:"Login"}},[t._v("로그인")])]),t._v(" "),n("p",[t._v(t._s(t.msg))]),t._v(" "),n("div",{staticClass:"a-group"},[n("router-link",{staticClass:"a-group-link",attrs:{to:"/register"}},[t._v("회원가입")]),t._v(" "),n("router-link",{staticClass:"a-group-link",attrs:{to:"/register"}},[t._v("찾기")])],1)]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-header"},[e("h1",[this._v("로그인")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-footer"},[e("div",{staticClass:"footer-sign-in"},[this._v("\n        New to Vana Blog? "),e("a",{attrs:{href:"#"}},[this._v("Create an account.")])])])}]};var V=n("VU/8")({data:function(){return{valid:!0,email:"",password:"",msg:""}},methods:{onSubmit:function(t,e){var n=this;this.$store.dispatch("LOGIN",{email:t,password:e}).then(function(){n.$router.push({path:"/"})}).catch(function(t){var e=t.message;return n.msg=e})}}},O,!1,function(t){n("gKbb")},"data-v-ba40ddf6",null).exports,S={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var F=n("VU/8")({created:function(){this.$store.dispatch("LOGOUT"),this.$router.push({path:"/login"})},name:"Logout"},S,!1,function(t){n("2G2w")},"data-v-1b107690",null).exports,G={data:function(){return{baseURI:"/api/auth",valid:!0,email:"",password:"",passwordChk:"",name:"",msg:""}},methods:{onSubmit:function(t,e,n){var a=this;e.length<5||e.length>10?alert("비밀번호를 확인하세요"):n.trim()<1?alert("이름을 입력하세요"):this.$http.post(this.baseURI+"/register",{email:t,password:e,name:n}).then(function(t){alert("회원가입 완료"),a.$router.push("/login")}).catch(function(t){alert(t)})}},computed:{}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("div",{staticClass:"login-form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password,t.name)}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("이메일 : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("비밀번호 : 5자이상 10자이하")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label"},[t._v("이름 : ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("br"),t._v(" "),n("button",{attrs:{type:"submit",value:"Login"}},[t._v("회원가입")])])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-header"},[e("h1",[this._v("회원가입")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-footer"},[e("div",{staticClass:"footer-sign-in"},[this._v("\n      New to Vana Blog? "),e("a",{attrs:{href:"#"}},[this._v("Create an account.")])])])}]};var D=n("VU/8")(G,A,!1,function(t){n("/udC")},"data-v-846a60d8",null).exports,M={created:function(){var t=this;this.$http.get(this.baseURI+"/me").then(function(e){t.user=e.user,t.accessLog=e.accessLog}).catch(function(t){console.log(t)})},name:"Me",data:function(){return{baseURI:"/api/auth",user:"",accessLog:[]}}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("ME")]),t._v(" "),n("div",[n("label",[t._v("User info:")]),t._v(" "),n("pre",[t._v(t._s(t.user))])]),t._v(" "),n("div",[n("label",[t._v("Access Log:")]),t._v(" "),t._l(t.accessLog,function(e){return n("div",[t._v(t._s(e.createAt))])})],2)])},staticRenderFns:[]};var W=n("VU/8")(M,z,!1,function(t){n("oCWY")},"data-v-4b7b6b2d",null).exports;a.default.use(p.a);var j=new p.a({routes:[{path:"/",name:"Home",component:g},{path:"/post",name:"Post",component:$},{path:"/post/write",name:"WritePost",component:U},{path:"/post/detail/:id",name:"DetailPost",component:R},{path:"/todo",name:"Todo",component:L},{path:"/sample",name:"jsonplaceholder",component:y},{path:"/login",name:"login",component:V},,{path:"/logout",name:"logout",component:F},{path:"/register",name:"Register",component:D},{path:"/me",name:"Me",component:W,beforeEnter:function(t,e,n){if(localStorage.getItem("access-token"))return n();n("/login")}}]}),B=(n("NOnh"),n("Jmt5"),n("9M+g"),n("Tqaz"));a.default.prototype.$http=h.a,a.default.config.productionTip=!1,new a.default({el:"#app",store:_,router:j,components:{App:d},template:"<App/>"}),a.default.use(B.a)},U6Vh:function(t,e){},cTbX:function(t,e){},gKbb:function(t,e){},oCWY:function(t,e){},ysEg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.84ad0758054c5d977769.js.map